{
  "version": 3,
  "sources": ["..\\..\\src\\lib\\database-drivers\\dbdriver-localhost.ts", "..\\..\\src\\lib\\ericchase\\Utility\\Console.ts", "..\\..\\src\\dev_server\\server-data.ts", "..\\..\\src\\database\\queries.module.ts"],
  "sourcesContent": [
    "export function getLocalhost(address: string) {\n  return {\n    async query(text: string, params: any[]): Promise<any> {\n      const response = await fetch(`${address}/database/query`, {\n        method: 'POST',\n        body: JSON.stringify({ text, params }),\n      });\n      if (response.status < 200 || response.status > 299) {\n        throw await response.json();\n      }\n      return await response.json();\n    },\n  };\n}\n",
    "namespace Console {\n  export let newline_count = 0;\n  export let marks = new Set<{ updated: boolean }>();\n}\n\nfunction updateMarks() {\n  for (const mark of Console.marks) {\n    Console.marks.delete(mark);\n    mark.updated = true;\n  }\n}\n\nexport function GetConsoleMark() {\n  const mark = { updated: false };\n  Console.marks.add(mark);\n  return mark;\n}\n\nexport function ConsoleError(...items: any[]) {\n  // biome-ignore lint: this let's us search for undesired console[error]s\n  console['error'](...items);\n  Console.newline_count = 0;\n  updateMarks();\n}\n\nexport function ConsoleLog(...items: any[]) {\n  // biome-ignore lint: this let's us search for undesired console[log]s\n  console['log'](...items);\n  Console.newline_count = 0;\n  updateMarks();\n}\n\nexport function ConsoleNewline(ensure_count = 1) {\n  for (let i = Console.newline_count; i < ensure_count; i++) {\n    // biome-ignore lint: this let's us search for undesired console[log]s\n    console['log']();\n    Console.newline_count++;\n  }\n  updateMarks();\n}\n\nexport function ConsoleLogToLines(items: Iterable<any>) {\n  for (const item of items) {\n    ConsoleLog(item);\n  }\n}\nexport function ConsoleErrorToLines(items: Iterable<any>) {\n  for (const item of items) {\n    ConsoleError(item);\n  }\n}\n",
    "const host = '127.0.0.1';\nconst port = '8000';\n\nexport const server_ws = `ws://${host}:${port}`;\nexport const server_http = `http://${host}:${port}`;\n",
    "import { getLocalhost } from '../lib/database-drivers/dbdriver-localhost.js';\nimport { ConsoleError } from '../lib/ericchase/Utility/Console.js';\nimport { server_http } from '../dev_server/server-data.js';\n\n// const db = DatabaseDriver.getNeon(<insert a valid connection string>);\nconst db = getLocalhost(server_http);\n\n//                                                                          \\\\\n//\n// Postgres Queries\n\nexport async function DatabaseConnected(): Promise<boolean> {\n  const q = 'SELECT 1';\n  await db.query(q, []);\n  return true;\n}\n\nexport async function CreateTable(name: string): Promise<void> {\n  const q = `\n      CREATE TABLE ${name} (\n        id SERIAL PRIMARY KEY,\n        name TEXT NOT NULL,\n        email TEXT NOT NULL\n      );\n    `;\n  await db.query(q, []);\n}\nexport async function TableExists(name: string): Promise<boolean> {\n  const q = `\n    SELECT EXISTS (\n      SELECT 1 \n      FROM information_schema.tables \n      WHERE table_schema = 'public' \n      AND table_name = $1\n    );\n  `;\n  const { exists } = (await db.query(q, [name]))[0];\n  return exists ?? false;\n}\n\n//                                                                          \\\\\n//\n// Database Functions\n\nexport async function EnsureTableExists(name: string): Promise<{ created: boolean; exists: boolean }> {\n  try {\n    if ((await TableExists(name)) === true) {\n      return { created: false, exists: true };\n    }\n    await CreateTable(name);\n    if ((await TableExists(name)) === true) {\n      return { created: true, exists: true };\n    }\n  } catch (error) {\n    ConsoleError(error);\n  }\n  return { created: false, exists: false };\n}\n"
  ],
  "mappings": ";AAAO,SAAS,YAAY,CAAC,SAAiB;AAC5C,SAAO;AAAA,SACC,MAAK,CAAC,MAAc,QAA6B;AACrD,YAAM,WAAW,MAAM,MAAM,GAAG,0BAA0B;AAAA,QACxD,QAAQ;AAAA,QACR,MAAM,KAAK,UAAU,EAAE,MAAM,OAAO,CAAC;AAAA,MACvC,CAAC;AACD,UAAI,SAAS,SAAS,OAAO,SAAS,SAAS,KAAK;AAClD,cAAM,MAAM,SAAS,KAAK;AAAA,MAC5B;AACA,aAAO,MAAM,SAAS,KAAK;AAAA;AAAA,EAE/B;AAAA;;;ACPF,SAAS,WAAW,GAAG;AACrB,aAAW,QAAQ,QAAQ,OAAO;AAChC,YAAQ,MAAM,OAAO,IAAI;AACzB,SAAK,UAAU;AAAA,EACjB;AAAA;AASK,SAAS,YAAY,IAAI,OAAc;AAE5C,UAAQ,SAAS,GAAG,KAAK;AACzB,UAAQ,gBAAgB;AACxB,cAAY;AAAA;AAtBd,IAAU;AAAV,EAAU,YAAV;AACS,EAAI,wBAAgB;AACpB,EAAI,gBAAQ,IAAI;AAAA,GAFf;;;ACAV,IAAM,OAAO;AACb,IAAM,OAAO;AAEN,IAAM,YAAY,QAAQ,QAAQ;AAClC,IAAM,cAAc,UAAU,QAAQ;;;ACO7C,eAAsB,iBAAiB,GAAqB;AAC1D,QAAM,IAAI;AACV,QAAM,GAAG,MAAM,GAAG,CAAC,CAAC;AACpB,SAAO;AAAA;AAGT,eAAsB,WAAW,CAAC,MAA6B;AAC7D,QAAM,IAAI;AAAA,qBACS;AAAA;AAAA;AAAA;AAAA;AAAA;AAMnB,QAAM,GAAG,MAAM,GAAG,CAAC,CAAC;AAAA;AAEtB,eAAsB,WAAW,CAAC,MAAgC;AAChE,QAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQV,UAAQ,YAAY,MAAM,GAAG,MAAM,GAAG,CAAC,IAAI,CAAC,GAAG;AAC/C,SAAO,UAAU;AAAA;AAOnB,eAAsB,iBAAiB,CAAC,MAA8D;AACpG,MAAI;AACF,QAAK,MAAM,YAAY,IAAI,MAAO,MAAM;AACtC,aAAO,EAAE,SAAS,OAAO,QAAQ,KAAK;AAAA,IACxC;AACA,UAAM,YAAY,IAAI;AACtB,QAAK,MAAM,YAAY,IAAI,MAAO,MAAM;AACtC,aAAO,EAAE,SAAS,MAAM,QAAQ,KAAK;AAAA,IACvC;AAAA,WACO,OAAP;AACA,iBAAa,KAAK;AAAA;AAEpB,SAAO,EAAE,SAAS,OAAO,QAAQ,MAAM;AAAA;AAnDzC,IAAM,KAAK,aAAa,WAAW;",
  "debugId": "4C8054FE5201B3A464756E2164756E21",
  "names": []
}